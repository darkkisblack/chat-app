# User Case: UC-04 Отправка текстового сообщения

# Цель:

Пользователь должен иметь возможность отправить текстовое сообщение другому пользователю(ям) в открытом чате

## Акторы

- Авторизованный пользователь (отправитель)

## Предусловия

- Пользователь авторизован
- Пользователь находится в открытом чате
- Поле ввода сообщения не заблокировано (не является read only)

## Основной сценарий (Happy path)

1. Пользователь вводит текст в поле ввода
2. Нажимает enter
3. Сообщение отправляется на сервер (через WebSocket или API)
4. В интерфейсе отображается новое сообщение
5. Поле ввода очищается

## Альтернативные сценарии

1. Сообщение не отправлено (разорвано соединение) - показывается ошибка или индикатор "Не отправлно"
2. Сообщение слишком длинной или пустое - отрабатывает валидация, сообщение не отправляется
3. При отправке сообщения возникает ошибка - сообщение остается в интерфейсе, появлятся иконка "повторить отправку" рядом с сообщением (в перспективе)

## Постусловия

- Сообщение от пользователя отображается в списке сообщений (в состоянии pending тоже)

## Бизнес-ограничения / UX-примечания:

- Ограничения по длине сообщения (например, 1000 символов)
- Отправка по enter, перенос строки по shift + enter
- Возможность видеть статус (отправляется, доставлено, прочитано)

## Примечания для разработки

- Отправка сообщений реализуется через WebSocket (например, через `message:send`)
- Временное сообщение может сохранится в стор до подтверждения с сервера
- Обработка ошибок включает повторную попытку отправки сообщения и UI-индикаторы статуса сообщения
