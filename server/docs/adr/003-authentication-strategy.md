# ADR 003: Аутентификация

## Статус
Принято

## Проблема
Как аутентифицировать пользователей? Нужно что-то современное и безопасное.

## Решение
JWT токены с refresh механизмом

## Как работает
- Access Token - короткий (15 минут)
- Refresh Token - длинный (7 дней)
- Session Model - отслеживаем активные сессии

## Почему JWT
- Stateless - не нужна сессия на сервере
- Масштабируется
- Работает с мобильными приложениями
- Стандарт де-факто

## Безопасность
- bcryptjs для паролей
- Rate limiting против брутфорса
- Автоудаление истекших сессий
- Можно отзывать токены

## Что отверг
- Session-based - сложнее масштабировать
- OAuth - избыточно для простого чата
- API Keys - не подходит для пользователей

## Минусы
- Нужно правильно настроить CORS
- Токены нельзя отозвать (только через refresh)
- Но это стандартные проблемы JWT 