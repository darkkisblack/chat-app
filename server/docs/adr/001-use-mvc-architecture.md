# ADR 001: Использование Model-view-controller (MVC) архитектуры

## Статус
Принято

## Контекст
Проект разрабатвался с использованием Express.js и базы данных Mongo DB. Необходимо было реализовать четкую структуру обработки запросов, взаимодействия с базой данных и разделения логики приложения

## Решение
Принято решение использовать архитектуру **MVC** (Model-View-Controller) для разделения приложения на три основные компоненты:

- **Model (Модель)** - Модели будут взаимодействовать с базой данных (Mongo DB) через ORM (Mongoose).
- **View (Представление)** - Представление будет реализовано на кликенте с помощью **Vue.js**, поэтому сервер ответчает только за предоставление данных клиенту через API.
- **Controller (Контроллер)** - Контролллеры будут обрабатывать HTTP запросы, выполнять бизнес логику и взаимодействовать с моделями для полученя данных.

Структура серверной части будет следующей:

```
server/
  |-models
        |-userModel.js // Модель юзера
        |-chatModel.js // Модель чата/канала
        |-messageModel.js // Модель сообщения
        |-fileModel.js // Модель файла

  |-controllers
        |-uerController.js // Контроллер для работы с пользователем
        |-authController.js // Контроллер для аутентификации
        |-fileController.js // Контроллер для работы с файлами
        |-messageController.js // Контроллер для сообщений
  
  |-routes
        |-chatRoutes.js // Маршруты для работы с чатами/каналами
        |-messageRoutes.js // Маршруты для работы с сообщенями
        |-userRoutes.js // Маршруты для работы с пользователем
        |-authRoutes // Маршруты для аутентификации
```

## Почему это решение?
- **Разделение ответственности** - Контроллеры отвечают за маршрутизацию и бизнес логику, модели - за работу с данными, что улучшаем поддерживаемость.
- **Масштабируемость** - Простота добавления новых контроллеров и моделей по мере необходимости.
- **Тестируемость** - Легче писать тесты для контроллеров и моделей, так как они изолированы и выполняют четкие задачи.

## Альтернативная структура
- **Монолитная структура** - Все запросы могли бы обрабатываться в одном файле - это дало бы быстрый старт, но усложнило бы масштабирование проекта в будущем.

## Последствия
- Улучшение структуры и масштабируемости, но потребуется дополнительное время для обучения команды и настройки.
- Упрощение тестирования и отладки за счет изолированности слоев.
